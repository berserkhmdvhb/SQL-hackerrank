(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{99813:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return r(96654)}])},28424:function(e,t,r){"use strict";r.d(t,{QO:function(){return u},gZ:function(){return x},_K:function(){return f}});var s=r(28598),n=r(82684),a=r(49452),i=r(78239),o=r(60887),l=r(29262),c=r(10406),u=function(e){let t=t=>{let{isLoading:r,user:l}=(0,i.aF)(),{isOpen:u,onOpen:d,onClose:p}=(0,a.q)();return(0,n.useEffect)(()=>{r||l||d()},[l,r,d]),(0,s.jsx)(s.Fragment,{children:r?(0,s.jsx)(c.Z,{children:(0,s.jsx)(o.aN,{})}):(0,s.jsx)(s.Fragment,{children:l?(0,s.jsx)(e,{...t}):(0,s.jsx)(o._A,{isModalOpen:u,onClose:p})})})};return t.displayName="WithAuth(".concat((0,l.lF)(e),")"),t},d=r(86105),p=r(34376),x=function(e){let t=t=>{let{user:r}=(0,i.aF)(),{push:a}=(0,p.useRouter)(),u=(0,l.xg)(r);return(0,n.useEffect)(()=>{r&&!u&&a(d.Z5.Pricing)},[r]),(0,s.jsx)(c.Z,{children:u?(0,s.jsx)(e,{...t}):(0,s.jsx)(o.aN,{})})};return t.displayName="WithPremium(".concat((0,l.lF)(e),")"),t},m=r(91760);let h=(0,r(33237).J)(d.J0);var f=function(e){let t=t=>(0,s.jsx)(m.Elements,{stripe:h,children:(0,s.jsx)(e,{...t})});return t.displayName="WithStripe(".concat((0,l.lF)(e),")"),t}},96654:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return R},default:function(){return V}});var s=r(28598),n=r(82684),a=r(30746),i=r(17603),o=r(78239),l=r(60887),c=r(28424),u=r(63662),d=r.n(u),p=r(68908),x=r(29101),m=r(78779),h=r(29262),f=r(68739);let _=e=>e?182:365,j=(e,t)=>{let r=_(t),s=new Date(e);return new Date(s.setDate(s.getDate()-r))},g=(e,t)=>Array.apply(null,Array(_(t))).map(()=>({date:new Date(e.setDate(e.getDate()+1)),count:0})),v=e=>Array.from(new Set(e.map(e=>e.questionId))).map(t=>e.find(e=>e.questionId===t)),y=(e,t)=>t.length?e.filter(e=>!(0,h.G0)(e.category)).map(e=>e.id).map(e=>t.find(t=>t.questionId===e)):[],S=(e,t)=>{let r=[];return e.forEach(e=>{e&&r.push({date:new Date(e.submittedAt),count:1})}),t.forEach(e=>{e&&r.push({date:new Date(e.createdAt),count:1})}),r},W=(e,t,r)=>{let s=S(e,t);return r.map(e=>{let t=f.ou.fromJSDate(e.date),r=s.filter(e=>t.hasSame(f.ou.fromJSDate(e.date),"day")).length;return r?{...e,count:r}:e})};r(34748);var b=r(752),D=r.n(b),w=(0,n.memo)(e=>{let{submissions:t,comments:r,questions:a,isMobile:i}=e,[o]=(0,n.useState)(new Date),l=(0,n.useMemo)(()=>new Date(o.getFullYear(),o.getMonth()+1,0),[o]),c=g(j(l,i),i),u=v(t),h=y(a,r),f=W(u,h,c),_=(0,n.useMemo)(()=>u.length+h.length,[u,h]);return(0,s.jsxs)(p.xu,{className:D().heatMapWrapper,children:[(0,s.jsxs)(x.X,{as:"h3",className:D().heatMapTitle,children:[_," question",1===_?"":"s"," solved",i?" in the past 6 months":" in the last year"]}),(0,s.jsx)(d(),{showWeekdayLabels:!0,startDate:j(l,i),endDate:l,values:f,classForValue:e=>e?e.count<5?"color-github-".concat(e.count):"color-github-4":"color-empty",tooltipDataAttrs:e=>({"data-tip":"".concat(e.count," questions solved at ").concat(new Date(e.date).toDateString())})}),(0,s.jsx)(m.Z,{})]})}),N=r(35585),M=r(52154),k=r(46171),q=r(91102),A=r(93480),E=r.n(A),F=e=>{let{questions:t,user:r,comments:a,submissions:i}=e,o=(0,n.useMemo)(()=>(0,h.jy)(r,t,a,i),[r,t,a,i]),l=o.reduce((e,t)=>e+t.solvedAmount,0);return(0,s.jsxs)(N.k,{className:E().achievementsWrapper,alignSelf:"center",flexDir:"column",minH:"280px",border:"1px solid",borderColor:"gray.300",borderRadius:"20px",p:"18px",children:[(0,s.jsx)(x.X,{as:"h2",fontSize:"20px",children:"Problems Solved"}),(0,s.jsxs)(M.M,{my:"26px",children:[(0,s.jsx)(q.r7,{}),(0,s.jsx)(k.x,{fontSize:"54px",ml:"16px",children:l})]}),(0,s.jsx)(M.M,{className:E().achievementsItem,justifyContent:"space-between",flexWrap:"wrap",children:o.map((e,t)=>{let r=e.codeQuestionsIds.length+e.textBasedQuestionsIds.length;return(0,s.jsx)(U,{difficulty:e.difficulty,questionsAmount:r,solvedQuestionsAmount:e.solvedAmount},t)})})]})},I=r(12691),P=r.n(I),z=r(6505),C=r(29373),Z=r(86105),O=r(50555),Q=r.n(O),X=e=>{let{user:t}=e,r=(0,h.vW)(t);return(0,s.jsxs)(N.k,{minH:"280px",alignSelf:"center",flexDir:"column",border:"1px solid",borderColor:"gray.300",borderRadius:"20px",p:"18px",children:[(0,s.jsxs)(N.k,{justifyContent:"space-between",children:[(0,s.jsx)(x.X,{as:"h2",fontSize:"20px",children:"Your Profile"}),(0,s.jsx)(P(),{href:Z.Z5.AccountSettings,legacyBehavior:!0,children:(0,s.jsxs)(z.r,{display:"flex",_hover:{color:"blue.300",cursor:"pointer"},children:[(0,s.jsx)(C.d,{fontSize:"20px"}),(0,s.jsx)(k.x,{ml:"4px",children:"Edit profile"})]})})]}),t&&(0,s.jsxs)(N.k,{className:Q().avatarWrapper,children:[(0,s.jsx)(l.qE,{avatarId:t.avatar,userName:r,size:"xl"}),(0,s.jsx)(N.k,{className:Q().nickNameWrapper,children:(0,s.jsx)(x.X,{as:"h3",mb:"2px",fontSize:"20px",wordBreak:"break-word",children:r})})]})]})},T=r(93404),U=e=>{let{difficulty:t,questionsAmount:r,solvedQuestionsAmount:n}=e;return(0,s.jsxs)(M.M,{flexDir:"column",fontSize:"22px",mx:"16px",children:[(0,s.jsx)(k.x,{color:(0,T.d)(t),children:t}),(0,s.jsx)(N.k,{children:(0,s.jsxs)(k.x,{children:[(0,s.jsx)(k.x,{as:"span",fontWeight:"700",fontSize:"28px",mr:"6px",children:n}),"/ ",r]})})]})},H=r(10406),J=r(96674),B=r.n(J),R=!0,V=(0,c.QO)(e=>{let{questions:t,isMobile:r}=e,{user:c}=(0,o.aF)(),[u,d]=(0,n.useState)([]),[p,x]=(0,n.useState)([]);return(0,n.useEffect)(()=>{if(!c)return;let e={fields:["id","status","question_id","submitted_at"],sort:"submitted_at",filter:{status:{_eq:Z.xV.Solved},user_id:{_eq:c.id}}},t={fields:["id","question_id","created_at"],sort:"created_at",filter:{deleted_at:{_null:!0},user_id:{_eq:c.id}}};(async()=>{try{let[r,s]=await Promise.all([i.OS.getComments(t),i.by.getSubmissions(e)]);d(r),x(s)}catch(e){i.Yd.error(e)}})()},[c]),(0,s.jsx)(H.Z,{children:(0,s.jsx)(a.W,{className:B().profileWrapper,maxW:"1100px",children:c&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(X,{user:c}),(0,s.jsx)(F,{questions:t,user:c,submissions:p,comments:u}),(0,s.jsx)(w,{comments:u,submissions:p,questions:t,isMobile:r}),(0,s.jsx)(l.Ur,{})]})})})})},752:function(e){e.exports={heatMapWrapper:"HeatMap_heatMapWrapper__3aI6_",heatMapTitle:"HeatMap_heatMapTitle__w3SWF"}},93480:function(e){e.exports={achievementsWrapper:"UserAchievements_achievementsWrapper__dDVN2",achievementsItem:"UserAchievements_achievementsItem__pyvuo"}},50555:function(e){e.exports={avatarWrapper:"UserDetails_avatarWrapper__yWK26",nickNameWrapper:"UserDetails_nickNameWrapper__Qgprc"}},96674:function(e){e.exports={profileWrapper:"Profile_profileWrapper__qoD_P"}}},function(e){e.O(0,[1265,3662,2390,9136,887,9774,2888,179],function(){return e(e.s=99813)}),_N_E=e.O()}]);
//# sourceMappingURL=profile-b11bfc6273e1a816.js.map